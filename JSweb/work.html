<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Work</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Ocultar scrollbar siempre */
    body::-webkit-scrollbar { width: 0; height: 0; }
    body { scrollbar-width: none; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .gallery-track { will-change: transform; }
    /* Nuevo icono: dos líneas → X (CodePen-inspired) */
    .menu-toggle { position: relative; width: 40px; height: 40px; cursor: pointer; }
    .menu-toggle input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
    .menu-toggle .bars { margin: auto; position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 22px; height: 12px; }
    .menu-toggle .bars span { position: absolute; display: block; width: 100%; height: 2px; background-color: currentColor; border-radius: 1px; transition: all .2s cubic-bezier(0.1, 0.82, 0.76, 0.965); }
    .menu-toggle .bars span:first-of-type { top: 0; }
    .menu-toggle .bars span:last-of-type { bottom: 0; }
    .menu-toggle.active .bars span:first-of-type,
    .menu-toggle input:checked + .bars span:first-of-type { transform: rotate(45deg); top: 5px; }
    .menu-toggle.active .bars span:last-of-type,
    .menu-toggle input:checked + .bars span:last-of-type { transform: rotate(-45deg); bottom: 5px; }
    .menu-toggle:hover .bars span:first-of-type { width: 26px; }
    .menu-toggle:hover .bars span:last-of-type { width: 12px; }
    .menu-toggle.active:hover .bars span:first-of-type,
    .menu-toggle.active:hover .bars span:last-of-type { width: 22px; }
  </style>
</head>
<body class="bg-white text-gray-900">
  <nav class="site-nav fixed inset-x-0 top-0 z-50 bg-transparent flex items-start justify-center">
    <div class="nav-inner w-full max-w-[1200px] grid grid-cols-[1fr_auto_1fr] items-start px-4 pt-6">
      <div class="menu-bar flex items-center justify-between gap-6 h-14 px-6 rounded-[8px] bg-[rgba(217,217,217,0.67)] backdrop-blur-[7.55px] shadow-[0_8px_24px_rgba(0,0,0,0.2)] min-w-[460px] mx-auto col-start-2 text-[#7c7c7c]">
        <a class="menu-logo inline-flex items-center gap-2 relative" href="./liquido-hover.html"><img class="h-6" src="assets/cursors/JS_GRIS.svg" alt="JS" /><span class="logo-mask absolute w-6 h-6" aria-hidden="true"></span></a>
        <button id="menuToggle" class="menu-toggle inline-flex items-center justify-center w-10 h-10 rounded-[10px] bg-transparent border-0" aria-label="Open menu">
          <input type="checkbox" aria-hidden="true" tabindex="-1" />
          <div class="bars"><span></span><span></span></div>
        </button>
      </div>
      <div class="right-links"></div>
    </div>
  </nav>

  <div id="menuOverlay" class="fixed inset-0 z-[60] opacity-0 pointer-events-none transition-opacity duration-200" aria-hidden="true">
    <div id="menuPanel" class="absolute left-1/2 -translate-x-1/2 -translate-y-2 transition-transform duration-200 ease-in-out bg-[rgba(217,217,217,0.67)] backdrop-blur-[7.55px] rounded-[8px] px-6 py-5 shadow-[0_8px_24px_rgba(0,0,0,0.25)] w-[min(90vw,460px)] text-[#7c7c7c] font-['Montserrat_Alternates',ui-sans-serif]">
      <nav class="flex flex-col gap-6 items-end" aria-label="Primary">
        <a class="text-[clamp(32px,8vw,72px)] font-semibold uppercase text-current hover:bg-black/5 rounded-xl px-3 py-2 self-stretch text-right transition transform hover:-translate-x-1" href="./work.html">Work</a>
        <a class="text-[clamp(32px,8vw,72px)] font-semibold uppercase text-current hover:bg-black/5 rounded-xl px-3 py-2 self-stretch text-right transition transform hover:-translate-x-1" href="./about.html">About</a>
        <a class="text-[clamp(32px,8vw,72px)] font-semibold uppercase text-current hover:bg-black/5 rounded-xl px-3 py-2 self-stretch text-right transition transform hover:-translate-x-1" href="./ai-corner.html">AI Lab</a>
      </nav>
    </div>
  </div>

  

  <main class="pt-14">
    <section class="relative h-[calc(100vh-56px)] overflow-hidden">
      <div id="gallery" class="absolute inset-0 flex items-center select-none">
        <div id="track" class="gallery-track flex gap-8 px-8"></div>
      </div>
    </section>
  </main>

  <div id="modal" class="fixed inset-0 bg-black/50 backdrop-blur hidden items-center justify-center z-50">
    <div class="bg-white rounded-xl shadow-xl max-w-3xl w-[90vw] overflow-hidden">
      <div class="flex items-center justify-between border-b px-4 py-3">
        <h2 id="modalTitle" class="font-semibold"></h2>
        <button id="closeModal" class="p-2 hover:bg-black/10 rounded-full cursor-pointer" aria-label="Close">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="p-4 grid md:grid-cols-2 gap-4">
        <img id="modalImage" class="w-full h-64 object-cover rounded-lg" src="" alt="" />
        <div>
          <p id="modalDesc" class="text-sm text-gray-700"></p>
          <div id="modalTags" class="mt-3 flex flex-wrap gap-2"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Hover gradient logo
    (function(){
      const logo = document.querySelector('.menu-logo');
      const logoImg = logo?.querySelector('img');
      const logoMask = logo?.querySelector('.logo-mask');
      function randomGradient(){ const h = Math.floor(Math.random()*360); const h2 = (h+60)%360; return `linear-gradient(135deg, hsl(${h} 80% 65%), hsl(${h2} 80% 65%))`; }
      function applyRandomGradient(){ if (!logoMask || !logoImg) return; const g = randomGradient(); logoMask.style.background = g; logoMask.style.webkitMask = 'url(assets/cursors/JS_GRIS.svg) no-repeat center / contain'; logoMask.style.mask = 'url(assets/cursors/JS_GRIS.svg) no-repeat center / contain'; logoImg.style.opacity = '0'; }
      function removeGradient(){ if (!logoMask || !logoImg) return; logoMask.style.background = ''; logoMask.style.webkitMask = ''; logoMask.style.mask = ''; logoImg.style.opacity = '1'; }
      logo?.addEventListener('mouseenter', applyRandomGradient);
      logo?.addEventListener('mouseleave', removeGradient);
    })();
    const works = [
      { id:'1', title:'Modern Web Platform', category:'WEB DESIGN', year:'2024', image:'https://images.unsplash.com/photo-1649000808933-1f4aac7cad9a?q=80&w=1200&auto=format&fit=crop', desc:'A comprehensive web platform featuring modern design principles.', tags:['React','TypeScript','Tailwind CSS','Figma','UX/UI'] },
      { id:'2', title:'Mobile App Interface', category:'APP DESIGN', year:'2024', image:'https://images.unsplash.com/photo-1618761714954-0b8cd0026356?q=80&w=1200&auto=format&fit=crop', desc:'Sleek mobile app interface focused on engagement and accessibility.', tags:['Swift','Kotlin','Figma','Prototyping','iOS','Android'] },
      { id:'3', title:'Brand Identity System', category:'BRANDING', year:'2023', image:'https://images.unsplash.com/photo-1586716412790-53109f0d9754?q=80&w=1200&auto=format&fit=crop', desc:'Complete brand identity: logo, color, typography, and guidelines.', tags:['Brand Design','Illustrator','InDesign','Strategy'] },
      { id:'4', title:'Creative Studio Website', category:'WEB DESIGN', year:'2023', image:'https://images.unsplash.com/photo-1526242767279-2ad8d8271177?q=80&w=1200&auto=format&fit=crop', desc:'Portfolio website for a creative studio with dynamic animations.', tags:['Vue.js','GSAP','WebGL','Animation'] },
      { id:'5', title:'Product Design System', category:'UX/UI DESIGN', year:'2024', image:'https://images.unsplash.com/photo-1667237346955-7b6cbb0815e4?q=80&w=1200&auto=format&fit=crop', desc:'Design system with components, patterns and guidelines.', tags:['Design Systems','Figma','Components','Accessibility'] },
      { id:'6', title:'Digital Art Collection', category:'DIGITAL ART', year:'2023', image:'https://images.unsplash.com/photo-1663153206192-6d0e4c9570dd?q=80&w=1200&auto=format&fit=crop', desc:'Generative art exploring tech and creativity.', tags:['Generative','Processing','Creative Coding'] },
    ];

    function gradientFor(id){
      const gradients = [
        'from-purple-500/30 via-pink-500/20 to-transparent',
        'from-blue-500/30 via-cyan-500/20 to-transparent',
        'from-orange-500/30 via-red-500/20 to-transparent',
        'from-green-500/30 via-emerald-500/20 to-transparent',
        'from-indigo-500/30 via-purple-500/20 to-transparent',
        'from-teal-500/30 via-green-500/20 to-transparent',
      ];
      let hash = 0; for (let i=0;i<id.length;i++){ hash = (hash*31 + id.charCodeAt(i)) >>> 0; }
      return gradients[hash % gradients.length];
    }
    function randomHoverGradient(){
      const options = [
        'from-fuchsia-500/25 via-pink-500/20 to-transparent',
        'from-sky-500/25 via-cyan-500/20 to-transparent',
        'from-amber-500/25 via-orange-500/20 to-transparent',
        'from-lime-500/25 via-emerald-500/20 to-transparent',
        'from-violet-500/25 via-indigo-500/20 to-transparent',
        'from-teal-500/25 via-emerald-500/20 to-transparent',
      ];
      return options[Math.floor(Math.random()*options.length)];
    }

    const track = document.getElementById('track');
    const tripled = [...works, ...works, ...works];
    function render(){
      track.innerHTML = '';
      tripled.forEach(w => {
        const card = document.createElement('div');
        card.className = 'group relative w-[420px] h-[calc(100vh-56px)] rounded-2xl overflow-hidden shrink-0 bg-white transition-transform duration-300 ease-out hover:scale-[1.02] mb-6 cursor-pointer';
        card.innerHTML = `
          <div class="absolute inset-x-0 top-0 h-[60%]">
            <img src="${w.image}" alt="${w.title}" class="absolute inset-0 w-full h-full object-cover" />
            <div class="absolute inset-0 bg-gradient-to-t ${gradientFor(w.id)} opacity-30 group-hover:opacity-60 transition-opacity duration-300"></div>
          </div>
          <div class="absolute inset-x-0 bottom-0 h-[40%] flex flex-col justify-between p-6">
            <div>
              <div class="flex items-center justify-between text-xs tracking-wide text-gray-600">
                <span>${w.year}</span>
                <span>${w.category}</span>
              </div>
              <h3 class="mt-2 text-xl font-semibold text-gray-900">${w.title}</h3>
              <p class="mt-2 text-sm leading-6 text-gray-600 line-clamp-3">${w.desc}</p>
            </div>
            <div class="mt-3 flex flex-wrap gap-2 pb-2">
              ${(()=>{ const max=3; const chips=w.tags.slice(0,max).map(t=>`<span class=\"text-xs px-2 py-1 rounded-full bg-gray-100\">${t}</span>`).join(''); const rest=w.tags.length-max; return rest>0? chips+`<span class=\"text-xs px-2 py-1 rounded-full bg-gray-100\">+${rest}</span>`:chips; })()}
            </div>
          </div>`;
        // Add a hover-only gradient overlay with random colors
        const hoverLayer = document.createElement('div');
        hoverLayer.className = `pointer-events-none absolute inset-0 bg-gradient-to-t ${randomHoverGradient()} opacity-0 group-hover:opacity-80 transition-opacity duration-150`;
        card.appendChild(hoverLayer);
        card.addEventListener('click', () => openModal(w));
        track.appendChild(card);
      });
    }
    render();

    let x = 0; // current translateX
    let animId = 0;
    let paused = false;
    let speed = 80; // px per second (slower)
    let targetX = 0;

    function normalize(value, width){
      if (width <= 0) return value;
      let v = ((value % width) + width) % width; // [0,width)
      return v - width; // keep in [-width,0)
    }

    function loop(ts){
      if (!loop.last) loop.last = ts;
      const dt = (ts - loop.last) / 1000;
      loop.last = ts;
      if (!paused) {
        targetX -= speed * dt;
      }
      const setWidth = track.scrollWidth / 3;
      x += (targetX - x) * 0.12; // ease toward target
      const vis = normalize(x, setWidth);
      track.style.transform = `translateX(${vis}px)`;
      animId = requestAnimationFrame(loop);
    }
    // Start centered on the middle copy to allow immediate left/right scrolling
    const startCentered = () => {
      const setWidth = track.scrollWidth / 3;
      if (setWidth > 0) {
        x = -setWidth;
        targetX = -setWidth;
        track.style.transform = `translateX(${-setWidth}px)`;
      }
      animId = requestAnimationFrame(loop);
    };
    // Delay to ensure layout is measured
    requestAnimationFrame(startCentered);

    // Hover pause
    const gallery = document.getElementById('gallery');
    gallery.addEventListener('mouseenter', () => { paused = true; });
    gallery.addEventListener('mouseleave', () => { paused = false; });

    // Drag control
    let dragging = false; let startX = 0; let startTx = 0; let moved = 0;
    gallery.addEventListener('pointerdown', (e) => {
      dragging = true; startX = e.clientX; startTx = targetX; moved = 0; gallery.setPointerCapture(e.pointerId);
    });
    gallery.addEventListener('pointermove', (e) => {
      if (!dragging) return; paused = true; const dx = e.clientX - startX; moved = Math.max(moved, Math.abs(dx)); targetX = startTx + dx; 
    });
    gallery.addEventListener('pointerup', (e) => { dragging = false; paused = false; });
    gallery.addEventListener('click', (e) => { if (moved > 8) e.preventDefault(); });

    // Mouse wheel horizontal scroll
    gallery.addEventListener('wheel', (e) => {
      e.preventDefault();
      const delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;
      targetX -= delta; // wrapping handled in loop
    }, { passive: false });

    // Modal
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalImage = document.getElementById('modalImage');
    const modalDesc = document.getElementById('modalDesc');
    const modalTags = document.getElementById('modalTags');
    function openModal(w){
      modalTitle.textContent = w.title;
      modalImage.src = w.image;
      modalDesc.textContent = w.desc;
      modalTags.innerHTML = w.tags.map(t=>`<span class="text-xs px-2 py-1 rounded-full bg-gray-100">${t}</span>`).join('');
      modal.style.display = 'flex';
    }
    document.getElementById('closeModal').addEventListener('click', ()=>{ modal.style.display = 'none'; });
    modal.addEventListener('click', (e)=>{ if (e.target === modal) modal.style.display = 'none'; });

    // Menu overlay toggle
    (function(){
      const toggle = document.getElementById('menuToggle');
      const overlay = document.getElementById('menuOverlay');
      const panel = document.getElementById('menuPanel');
      const bar = document.querySelector('.menu-bar');
      const setOpen = (open) => {
        overlay.classList.toggle('opacity-100', open);
        overlay.classList.toggle('opacity-0', !open);
        overlay.classList.toggle('pointer-events-auto', open);
        overlay.classList.toggle('pointer-events-none', !open);
        overlay.setAttribute('aria-hidden', String(!open));
        document.body.style.overflow = open ? 'hidden' : '';
      };
      // animación panel
      const setPanelAnim = (open) => {
        panel.classList.toggle('-translate-y-0', open);
        panel.classList.toggle('-translate-y-2', !open);
      };
      const positionPanel = () => {
        if (!bar || !panel) return;
        const rect = bar.getBoundingClientRect();
        panel.style.top = (rect.bottom + 24) + 'px';
      };
      toggle.addEventListener('click', (e) => { e.preventDefault(); const checkbox = toggle.querySelector('input'); const open = checkbox ? !checkbox.checked : overlay.classList.contains('opacity-0'); setOpen(open); setPanelAnim(open); toggle.classList.toggle('open', open); if (checkbox) checkbox.checked = open; if (open) positionPanel(); });
      const closeAndReset = () => { setOpen(false); setPanelAnim(false); toggle.classList.remove('open'); const checkbox = toggle.querySelector('input'); if (checkbox) checkbox.checked = false; };
      overlay.addEventListener('click', (e)=>{ if (e.target === overlay) closeAndReset(); });
      overlay.querySelectorAll('a').forEach(a => a.addEventListener('click', closeAndReset));
      window.addEventListener('resize', () => { if (!overlay.classList.contains('opacity-0')) positionPanel(); });
      overlay.classList.add('opacity-0');
    })();
  </script>
</body>
</html>


