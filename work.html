<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Work</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./styles/global.css">
  <script defer src="./scripts/menu.js"></script>
</head>
<body class="bg-white text-gray-900" data-page="work">
  <nav class="site-nav">
    <div class="nav-inner">
      <div class="menu-bar">
        <a class="menu-logo" href="./index.html"><img src="assets/cursors/JS_GRIS.svg" alt="JS" /><span class="logo-mask" aria-hidden="true"></span></a>
        <button id="menuToggle" class="menu-toggle" aria-label="Open menu">
          <input type="checkbox" aria-hidden="true" tabindex="-1" />
          <div class="bars"><span></span><span></span></div>
        </button>
      </div>
      <div class="right-links"></div>
    </div>
  </nav>

  <div id="menuOverlay" class="menu-overlay" aria-hidden="true">
    <div id="menuPanel" class="menu-panel">
      <nav class="menu-links" aria-label="Primary">
        <a href="./work.html">Work</a>
        <a href="./about.html">About</a>
        <a href="./ai-corner.html">AI Lab</a>
      </nav>
    </div>
  </div>

  

  <main>
    <section class="relative h-[calc(100vh-56px)] overflow-hidden">
      <div id="gallery" class="absolute inset-0 flex items-center select-none">
        <div id="track" class="gallery-track flex gap-8 px-8"></div>
      </div>
    </section>
  </main>

  <div id="modal" class="fixed inset-0 bg-black/50 backdrop-blur hidden items-center justify-center z-50">
    <div class="bg-white rounded-xl shadow-xl max-w-3xl w-[90vw] overflow-hidden">
      <div class="flex items-center justify-between border-b px-4 py-3">
        <h2 id="modalTitle" class="font-semibold"></h2>
        <button id="closeModal" class="p-2 hover:bg-black/10 rounded-full cursor-pointer" aria-label="Close">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="p-4 grid md:grid-cols-2 gap-4">
        <img id="modalImage" class="w-full h-64 object-cover rounded-lg" src="" alt="" />
        <div>
          <p id="modalDesc" class="text-sm text-gray-700"></p>
          <div id="modalTags" class="mt-3 flex flex-wrap gap-2"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const works = [
      { id:'1', title:'Modern Web Platform', category:'WEB DESIGN', year:'2024', image:'https://images.unsplash.com/photo-1649000808933-1f4aac7cad9a?q=80&w=1200&auto=format&fit=crop', desc:'A comprehensive web platform featuring modern design principles.', tags:['React','TypeScript','Tailwind CSS','Figma','UX/UI'] },
      { id:'2', title:'Mobile App Interface', category:'APP DESIGN', year:'2024', image:'https://images.unsplash.com/photo-1618761714954-0b8cd0026356?q=80&w=1200&auto=format&fit=crop', desc:'Sleek mobile app interface focused on engagement and accessibility.', tags:['Swift','Kotlin','Figma','Prototyping','iOS','Android'] },
      { id:'3', title:'Brand Identity System', category:'BRANDING', year:'2023', image:'https://images.unsplash.com/photo-1586716412790-53109f0d9754?q=80&w=1200&auto=format&fit=crop', desc:'Complete brand identity: logo, color, typography, and guidelines.', tags:['Brand Design','Illustrator','InDesign','Strategy'] },
      { id:'4', title:'Creative Studio Website', category:'WEB DESIGN', year:'2023', image:'https://images.unsplash.com/photo-1526242767279-2ad8d8271177?q=80&w=1200&auto=format&fit=crop', desc:'Portfolio website for a creative studio with dynamic animations.', tags:['Vue.js','GSAP','WebGL','Animation'] },
      { id:'5', title:'Product Design System', category:'UX/UI DESIGN', year:'2024', image:'https://images.unsplash.com/photo-1667237346955-7b6cbb0815e4?q=80&w=1200&auto=format&fit=crop', desc:'Design system with components, patterns and guidelines.', tags:['Design Systems','Figma','Components','Accessibility'] },
      { id:'6', title:'Digital Art Collection', category:'DIGITAL ART', year:'2023', image:'https://images.unsplash.com/photo-1663153206192-6d0e4c9570dd?q=80&w=1200&auto=format&fit=crop', desc:'Generative art exploring tech and creativity.', tags:['Generative','Processing','Creative Coding'] },
    ];

    function gradientFor(id){
      const gradients = [
        'from-purple-500/30 via-pink-500/20 to-transparent',
        'from-blue-500/30 via-cyan-500/20 to-transparent',
        'from-orange-500/30 via-red-500/20 to-transparent',
        'from-green-500/30 via-emerald-500/20 to-transparent',
        'from-indigo-500/30 via-purple-500/20 to-transparent',
        'from-teal-500/30 via-green-500/20 to-transparent',
      ];
      let hash = 0; for (let i=0;i<id.length;i++){ hash = (hash*31 + id.charCodeAt(i)) >>> 0; }
      return gradients[hash % gradients.length];
    }
    function randomHoverGradient(){
      const options = [
        'from-fuchsia-500/25 via-pink-500/20 to-transparent',
        'from-sky-500/25 via-cyan-500/20 to-transparent',
        'from-amber-500/25 via-orange-500/20 to-transparent',
        'from-lime-500/25 via-emerald-500/20 to-transparent',
        'from-violet-500/25 via-indigo-500/20 to-transparent',
        'from-teal-500/25 via-emerald-500/20 to-transparent',
      ];
      return options[Math.floor(Math.random()*options.length)];
    }

    const track = document.getElementById('track');
    const tripled = [...works, ...works, ...works];
    function render(){
      track.innerHTML = '';
      tripled.forEach(w => {
        const card = document.createElement('div');
        card.className = 'group relative w-[420px] h-[calc(100vh-56px)] rounded-2xl overflow-hidden shrink-0 bg-white transition-transform duration-300 ease-out hover:scale-[1.02] mb-6 cursor-pointer';
        card.innerHTML = `
          <div class="absolute inset-x-0 top-0 h-[60%]">
            <img src="${w.image}" alt="${w.title}" class="absolute inset-0 w-full h-full object-cover" />
            <div class="absolute inset-0 bg-gradient-to-t ${gradientFor(w.id)} opacity-30 group-hover:opacity-60 transition-opacity duration-300"></div>
          </div>
          <div class="absolute inset-x-0 bottom-0 h-[40%] flex flex-col justify-between p-6">
            <div>
              <div class="flex items-center justify-between text-xs tracking-wide text-gray-600">
                <span>${w.year}</span>
                <span>${w.category}</span>
              </div>
              <h3 class="mt-2 text-xl font-semibold text-gray-900">${w.title}</h3>
              <p class="mt-2 text-sm leading-6 text-gray-600 line-clamp-3">${w.desc}</p>
            </div>
            <div class="mt-3 flex flex-wrap gap-2 pb-2">
              ${(()=>{ const max=3; const chips=w.tags.slice(0,max).map(t=>`<span class=\"text-xs px-2 py-1 rounded-full bg-gray-100\">${t}</span>`).join(''); const rest=w.tags.length-max; return rest>0? chips+`<span class=\"text-xs px-2 py-1 rounded-full bg-gray-100\">+${rest}</span>`:chips; })()}
            </div>
          </div>`;
        // Add a hover-only gradient overlay with random colors
        const hoverLayer = document.createElement('div');
        hoverLayer.className = `pointer-events-none absolute inset-0 bg-gradient-to-t ${randomHoverGradient()} opacity-0 group-hover:opacity-80 transition-opacity duration-150`;
        card.appendChild(hoverLayer);
        card.addEventListener('click', () => openModal(w));
        track.appendChild(card);
      });
    }
    render();

    let x = 0; // current translateX
    let animId = 0;
    let paused = false;
    let speed = 80; // px per second (slower)
    let targetX = 0;

    function normalize(value, width){
      if (width <= 0) return value;
      let v = ((value % width) + width) % width; // [0,width)
      return v - width; // keep in [-width,0)
    }

    function loop(ts){
      if (!loop.last) loop.last = ts;
      const dt = (ts - loop.last) / 1000;
      loop.last = ts;
      if (!paused) {
        targetX -= speed * dt;
      }
      const setWidth = track.scrollWidth / 3;
      x += (targetX - x) * 0.12; // ease toward target
      const vis = normalize(x, setWidth);
      track.style.transform = `translateX(${vis}px)`;
      animId = requestAnimationFrame(loop);
    }
    // Start centered on the middle copy to allow immediate left/right scrolling
    const startCentered = () => {
      const setWidth = track.scrollWidth / 3;
      if (setWidth > 0) {
        x = -setWidth;
        targetX = -setWidth;
        track.style.transform = `translateX(${-setWidth}px)`;
      }
      animId = requestAnimationFrame(loop);
    };
    // Delay to ensure layout is measured
    requestAnimationFrame(startCentered);

    // Hover pause
    const gallery = document.getElementById('gallery');
    gallery.addEventListener('mouseenter', () => { paused = true; });
    gallery.addEventListener('mouseleave', () => { paused = false; });

    // Drag control
    let dragging = false; let startX = 0; let startTx = 0; let moved = 0;
    gallery.addEventListener('pointerdown', (e) => {
      dragging = true; startX = e.clientX; startTx = targetX; moved = 0; gallery.setPointerCapture(e.pointerId);
    });
    gallery.addEventListener('pointermove', (e) => {
      if (!dragging) return; paused = true; const dx = e.clientX - startX; moved = Math.max(moved, Math.abs(dx)); targetX = startTx + dx; 
    });
    gallery.addEventListener('pointerup', (e) => { dragging = false; paused = false; });
    gallery.addEventListener('click', (e) => { if (moved > 8) e.preventDefault(); });

    // Mouse wheel horizontal scroll
    gallery.addEventListener('wheel', (e) => {
      e.preventDefault();
      const delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;
      targetX -= delta; // wrapping handled in loop
    }, { passive: false });

    // Modal
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalImage = document.getElementById('modalImage');
    const modalDesc = document.getElementById('modalDesc');
    const modalTags = document.getElementById('modalTags');
    function openModal(w){
      modalTitle.textContent = w.title;
      modalImage.src = w.image;
      modalDesc.textContent = w.desc;
      modalTags.innerHTML = w.tags.map(t=>`<span class="text-xs px-2 py-1 rounded-full bg-gray-100">${t}</span>`).join('');
      modal.style.display = 'flex';
    }
    document.getElementById('closeModal').addEventListener('click', ()=>{ modal.style.display = 'none'; });
    modal.addEventListener('click', (e)=>{ if (e.target === modal) modal.style.display = 'none'; });

    
  </script>
</body>
</html>


